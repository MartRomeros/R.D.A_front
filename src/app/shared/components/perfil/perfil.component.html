<app-header></app-header>

<main class="container-fluid">
    <section class="row">
        <mat-card appearance="outlined" class="col-lg-5">
            <mat-card-header>
                <h4>{{nombre}}</h4>
                <h6 class="subtitle">Alumno Ayudante</h6>
            </mat-card-header>
            <mat-divider></mat-divider>
            <mat-card-content class="user-info">
                
                @if(cargando){
                <mat-spinner style="margin-top: 2vh; margin-left: 30vh;"></mat-spinner>
                }@else {
                <mat-list>

                    <mat-list-item>
                        <mat-icon matListItemIcon>assignment_ind</mat-icon>
                        <h3 matListItemTitle>{{run}}</h3>
                        <p matListItemLine>
                            <span>Run</span>
                        </p>
                    </mat-list-item>

                    <mat-list-item>
                        <mat-icon matListItemIcon>location_on</mat-icon>
                        <h3 matListItemTitle>Sede Melipilla</h3>
                        <p matListItemLine>
                            <span>Ubicacion</span>
                        </p>
                    </mat-list-item>

                    <mat-list-item>
                        <mat-icon matListItemIcon>mail</mat-icon>
                        <h3 matListItemTitle>{{email}}</h3>
                        <p matListItemLine>
                            <span>Email</span>
                        </p>
                    </mat-list-item>
                    <mat-list-item>
                        <mat-icon matListItemIcon>call</mat-icon>
                        <h3 matListItemTitle>{{fono}}</h3>
                        <p matListItemLine>
                            <span>Telefono</span>
                        </p>
                    </mat-list-item>
                </mat-list>
                }
            </mat-card-content>
        </mat-card>

        <mat-card appearance="outlined" class="col info-section">
            <mat-card-header>
                <div class="edit-info-title">
                    <h4>Informacion Personal</h4>
                    <h6 class="subtitle">Actualiza tus de contacto o genera una nueva contrasena</h6>
                </div>
            </mat-card-header>

            <mat-card-content class="container-fluid">
                <mat-divider></mat-divider>
                <form class="row" [formGroup]="perfilForm" (ngSubmit)="actualizarDatos()">

                    <mat-form-field appearance="outline" class="col-12">
                        <mat-label>Numero de telefono</mat-label>
                        <input matInput placeholder="Ej: 9 9999 9999" formControlName="fono" type="number">
                        <mat-icon matSuffix>call</mat-icon>
                        <mat-hint>tu numero de telefono debe seguir el siguiente formato: 9 9999 9999</mat-hint>
                    </mat-form-field>

                    <h6>Cambiar de contrasena</h6>
                    <mat-form-field appearance="outline" class="col-12">
                        <mat-label>Nueva Contrasenna</mat-label>
                        <input matInput [type]="hide() ? 'password' : 'text'" formControlName="contrasenna1" />
                        <button mat-icon-button matSuffix (click)="clickEvent($event)" type="button"
                            [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide()">
                            <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <mat-hint>Tu contrasena debe cumplir con:</mat-hint>
                    </mat-form-field>

                    <div class="col-12">
                        <mat-hint>- Caracteres en mayuscula</mat-hint> <br>
                        <mat-hint>- Caracteres en minuscula</mat-hint> <br>
                        <mat-hint>- 4 numeros</mat-hint> <br>
                        <mat-hint>- Un caracter extrano</mat-hint> <br>
                        <mat-hint>- La contrasena debe tener una longitud maxima de 20 caracteres</mat-hint> <br>

                    </div>

                    <mat-form-field appearance="outline" class="col-12">
                        <mat-label>Repite tu contrasenna</mat-label>
                        <input matInput [type]="hide() ? 'password' : 'text'" formControlName="contrasenna2" />
                        <button mat-icon-button matSuffix (click)="clickEvent($event)" type="button"
                            [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide()">
                            <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
                        </button>
                        <mat-hint>Tu contrasena debe cumplir con:</mat-hint>
                    </mat-form-field>



                    <fieldset class="col-12">
                        <button mat-flat-button type="submit">Actualizar Datos</button>
                    </fieldset>

                </form>
            </mat-card-content>
        </mat-card>
    </section>
</main>